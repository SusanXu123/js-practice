<html>

  <body>
    <div>
      <ul id="list"></ul>
    </div>
  </body>
</html>
<style>
#div {
  width: 200px;
  height: 200px;
  background-color: pink;
}
</style>
<script>
var total = 1000;
var size = 100;
var count = total / size;
var done = 0;
var ul = document.getElementById('list');

function addItems() {
    var li = null;
    var fg = document.createDocumentFragment();

    for (var i = 0; i < size; i++) {
        li = document.createElement('li');
        li.innerText = 'item ' + (done * size + i);
        fg.appendChild(li);
    }

    ul.appendChild(fg);
    done++;

    if (done < count) {
        requestAnimationFrame(addItems);
    }
};

requestAnimationFrame(addItems);

</script>